<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#ec4899">
    <title>My Workout Journey ‚ú®</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        
        body {
            overscroll-behavior: none;
            -webkit-font-smoothing: antialiased;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-attachment: fixed;
            min-height: 100vh;
        }

        .glass {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }

        .glass-dark {
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card:active {
            transform: scale(0.98);
            box-shadow: 0 4px 16px 0 rgba(31, 38, 135, 0.2);
        }

        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .progress-ring {
            transition: stroke-dashoffset 0.5s ease;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .float-animation {
            animation: float 3s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% { 
                box-shadow: 0 0 20px rgba(236, 72, 153, 0.4);
            }
            50% { 
                box-shadow: 0 0 40px rgba(236, 72, 153, 0.8);
            }
        }

        .timer-active {
            animation: pulse-glow 2s ease-in-out infinite;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }

        .btn-primary:active {
            transform: scale(0.95);
        }

        .nav-pill {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-pill.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
        }

        .svg-illustration {
            transition: transform 0.3s ease;
        }

        .exercise-card:hover .svg-illustration {
            transform: scale(1.05);
        }

        .completed-badge {
            animation: pop 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes pop {
            0% { transform: scale(0); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Storage utilities
        const STORAGE_KEY = 'workout_progress_v3';
        
        const saveProgress = (data) => {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
        };

        const loadProgress = () => {
            const saved = localStorage.getItem(STORAGE_KEY);
            return saved ? JSON.parse(saved) : {};
        };

        // SVG Exercise Illustrations Component
        const ExerciseIllustration = ({ type, color = "#667eea" }) => {
            const illustrations = {
                // Mobility
                shoulder_circles: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head */}
                        <circle cx="100" cy="40" r="15" fill="url(#grad1)" opacity="0.9"/>
                        {/* Body */}
                        <line x1="100" y1="55" x2="100" y2="120" stroke="url(#grad1)" strokeWidth="8" strokeLinecap="round"/>
                        {/* Rotating arms */}
                        <circle cx="100" cy="70" r="40" fill="none" stroke={color} strokeWidth="3" strokeDasharray="5,5" opacity="0.4"/>
                        <line x1="60" y1="70" x2="140" y2="70" stroke="url(#grad1)" strokeWidth="6" strokeLinecap="round"/>
                        <circle cx="60" cy="70" r="8" fill={color}/>
                        <circle cx="140" cy="70" r="8" fill={color}/>
                        {/* Legs */}
                        <line x1="100" y1="120" x2="80" y2="160" stroke="url(#grad1)" strokeWidth="7" strokeLinecap="round"/>
                        <line x1="100" y1="120" x2="120" y2="160" stroke="url(#grad1)" strokeWidth="7" strokeLinecap="round"/>
                    </svg>
                ),
                
                neck_rotation: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head tilted */}
                        <ellipse cx="110" cy="40" rx="18" ry="15" fill="url(#grad2)" opacity="0.9" transform="rotate(15 110 40)"/>
                        {/* Rotation arc */}
                        <path d="M 85 35 Q 100 15 115 35" fill="none" stroke={color} strokeWidth="2" strokeDasharray="3,3"/>
                        <path d="M 85 45 Q 100 65 115 45" fill="none" stroke={color} strokeWidth="2" strokeDasharray="3,3"/>
                        {/* Neck */}
                        <line x1="105" y1="55" x2="100" y2="75" stroke="url(#grad2)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Body */}
                        <line x1="100" y1="75" x2="100" y2="130" stroke="url(#grad2)" strokeWidth="9" strokeLinecap="round"/>
                        {/* Arms down */}
                        <line x1="100" y1="85" x2="70" y2="115" stroke="url(#grad2)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="100" y1="85" x2="130" y2="115" stroke="url(#grad2)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Legs */}
                        <line x1="100" y1="130" x2="85" y2="170" stroke="url(#grad2)" strokeWidth="7" strokeLinecap="round"/>
                        <line x1="100" y1="130" x2="115" y2="170" stroke="url(#grad2)" strokeWidth="7" strokeLinecap="round"/>
                    </svg>
                ),

                cat_cow: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head */}
                        <circle cx="60" cy="80" r="12" fill="url(#grad3)"/>
                        {/* Curved spine */}
                        <path d="M 70 85 Q 100 70 130 85" fill="none" stroke="url(#grad3)" strokeWidth="10" strokeLinecap="round"/>
                        {/* Arms */}
                        <line x1="80" y1="90" x2="80" y2="130" stroke="url(#grad3)" strokeWidth="7" strokeLinecap="round"/>
                        <line x1="120" y1="90" x2="120" y2="130" stroke="url(#grad3)" strokeWidth="7" strokeLinecap="round"/>
                        {/* Hands */}
                        <circle cx="80" cy="130" r="6" fill={color}/>
                        <circle cx="120" cy="130" r="6" fill={color}/>
                    </svg>
                ),

                jumping_jacks: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad4" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head */}
                        <circle cx="100" cy="35" r="15" fill="url(#grad4)"/>
                        {/* Body */}
                        <line x1="100" y1="50" x2="100" y2="110" stroke="url(#grad4)" strokeWidth="8" strokeLinecap="round"/>
                        {/* Arms up and out */}
                        <line x1="100" y1="60" x2="50" y2="40" stroke="url(#grad4)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="100" y1="60" x2="150" y2="40" stroke="url(#grad4)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Legs spread */}
                        <line x1="100" y1="110" x2="70" y2="160" stroke="url(#grad4)" strokeWidth="7" strokeLinecap="round"/>
                        <line x1="100" y1="110" x2="130" y2="160" stroke="url(#grad4)" strokeWidth="7" strokeLinecap="round"/>
                        {/* Motion lines */}
                        <path d="M 45 45 L 40 50" stroke={color} strokeWidth="2" opacity="0.5"/>
                        <path d="M 155 45 L 160 50" stroke={color} strokeWidth="2" opacity="0.5"/>
                    </svg>
                ),

                // Upper Body
                bent_over_row: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad5" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head */}
                        <circle cx="80" cy="50" r="12" fill="url(#grad5)"/>
                        {/* Bent torso */}
                        <line x1="85" y1="60" x2="120" y2="90" stroke="url(#grad5)" strokeWidth="9" strokeLinecap="round"/>
                        {/* Pulling arm */}
                        <line x1="90" y1="70" x2="70" y2="95" stroke="url(#grad5)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="70" y1="95" x2="85" y2="85" stroke="url(#grad5)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Support arm */}
                        <line x1="95" y1="75" x2="115" y2="115" stroke="url(#grad5)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Dumbbell */}
                        <rect x="65" y="92" width="10" height="6" rx="2" fill={color}/>
                        {/* Legs */}
                        <line x1="120" y1="90" x2="125" y2="140" stroke="url(#grad5)" strokeWidth="7" strokeLinecap="round"/>
                        <line x1="120" y1="90" x2="135" y2="140" stroke="url(#grad5)" strokeWidth="7" strokeLinecap="round"/>
                    </svg>
                ),

                military_press: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad6" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head */}
                        <circle cx="100" cy="40" r="14" fill="url(#grad6)"/>
                        {/* Body */}
                        <line x1="100" y1="54" x2="100" y2="115" stroke="url(#grad6)" strokeWidth="9" strokeLinecap="round"/>
                        {/* Arms pressing up */}
                        <line x1="100" y1="65" x2="75" y2="45" stroke="url(#grad6)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="75" y1="45" x2="70" y2="25" stroke="url(#grad6)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="100" y1="65" x2="125" y2="45" stroke="url(#grad6)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="125" y1="45" x2="130" y2="25" stroke="url(#grad6)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Dumbbells */}
                        <rect x="65" y="20" width="12" height="8" rx="2" fill={color}/>
                        <rect x="125" y="20" width="12" height="8" rx="2" fill={color}/>
                        {/* Legs */}
                        <line x1="100" y1="115" x2="85" y2="160" stroke="url(#grad6)" strokeWidth="7" strokeLinecap="round"/>
                        <line x1="100" y1="115" x2="115" y2="160" stroke="url(#grad6)" strokeWidth="7" strokeLinecap="round"/>
                    </svg>
                ),

                bicep_curl: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad7" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head */}
                        <circle cx="100" cy="40" r="14" fill="url(#grad7)"/>
                        {/* Body */}
                        <line x1="100" y1="54" x2="100" y2="120" stroke="url(#grad7)" strokeWidth="9" strokeLinecap="round"/>
                        {/* Right arm curled */}
                        <line x1="100" y1="65" x2="125" y2="80" stroke="url(#grad7)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="125" y1="80" x2="120" y2="60" stroke="url(#grad7)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Dumbbell */}
                        <rect x="115" y="55" width="12" height="8" rx="2" fill={color}/>
                        {/* Left arm down */}
                        <line x1="100" y1="65" x2="70" y2="90" stroke="url(#grad7)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="70" y1="90" x2="65" y2="110" stroke="url(#grad7)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Legs */}
                        <line x1="100" y1="120" x2="85" y2="165" stroke="url(#grad7)" strokeWidth="7" strokeLinecap="round"/>
                        <line x1="100" y1="120" x2="115" y2="165" stroke="url(#grad7)" strokeWidth="7" strokeLinecap="round"/>
                    </svg>
                ),

                // Lower Body
                squat: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad8" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head */}
                        <circle cx="100" cy="50" r="14" fill="url(#grad8)"/>
                        {/* Body leaning forward */}
                        <line x1="100" y1="64" x2="95" y2="100" stroke="url(#grad8)" strokeWidth="9" strokeLinecap="round"/>
                        {/* Arms forward */}
                        <line x1="95" y1="75" x2="70" y2="85" stroke="url(#grad8)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="95" y1="75" x2="120" y2="85" stroke="url(#grad8)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Thighs */}
                        <line x1="95" y1="100" x2="80" y2="130" stroke="url(#grad8)" strokeWidth="8" strokeLinecap="round"/>
                        <line x1="95" y1="100" x2="110" y2="130" stroke="url(#grad8)" strokeWidth="8" strokeLinecap="round"/>
                        {/* Calves */}
                        <line x1="80" y1="130" x2="75" y2="160" stroke="url(#grad8)" strokeWidth="7" strokeLinecap="round"/>
                        <line x1="110" y1="130" x2="115" y2="160" stroke="url(#grad8)" strokeWidth="7" strokeLinecap="round"/>
                        {/* Dumbbells */}
                        <rect x="65" y="82" width="10" height="6" rx="2" fill={color}/>
                        <rect x="115" y="82" width="10" height="6" rx="2" fill={color}/>
                    </svg>
                ),

                lunges: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad9" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head */}
                        <circle cx="100" cy="45" r="14" fill="url(#grad9)"/>
                        {/* Body */}
                        <line x1="100" y1="59" x2="100" y2="105" stroke="url(#grad9)" strokeWidth="9" strokeLinecap="round"/>
                        {/* Arms on hips */}
                        <line x1="100" y1="75" x2="80" y2="85" stroke="url(#grad9)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="100" y1="75" x2="120" y2="85" stroke="url(#grad9)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Front leg bent */}
                        <line x1="100" y1="105" x2="115" y2="135" stroke="url(#grad9)" strokeWidth="8" strokeLinecap="round"/>
                        <line x1="115" y1="135" x2="120" y2="165" stroke="url(#grad9)" strokeWidth="7" strokeLinecap="round"/>
                        {/* Back leg extended */}
                        <line x1="100" y1="105" x2="75" y2="140" stroke="url(#grad9)" strokeWidth="8" strokeLinecap="round"/>
                        <line x1="75" y1="140" x2="65" y2="155" stroke="url(#grad9)" strokeWidth="7" strokeLinecap="round"/>
                    </svg>
                ),

                glute_bridge: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad10" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head on ground */}
                        <circle cx="70" cy="130" r="12" fill="url(#grad10)"/>
                        {/* Arched back */}
                        <path d="M 82 130 Q 100 80 125 110" fill="none" stroke="url(#grad10)" strokeWidth="10" strokeLinecap="round"/>
                        {/* Legs bent */}
                        <line x1="90" y1="115" x2="85" y2="145" stroke="url(#grad10)" strokeWidth="8" strokeLinecap="round"/>
                        <line x1="120" y1="105" x2="130" y2="145" stroke="url(#grad10)" strokeWidth="8" strokeLinecap="round"/>
                        {/* Ground line */}
                        <line x1="40" y1="145" x2="160" y2="145" stroke={color} strokeWidth="2" opacity="0.3"/>
                        {/* Dumbbell on hips */}
                        <rect x="95" y="85" width="15" height="8" rx="2" fill={color}/>
                    </svg>
                ),

                plank: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad11" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head */}
                        <circle cx="70" cy="85" r="12" fill="url(#grad11)"/>
                        {/* Straight body */}
                        <line x1="82" y1="90" x2="130" y2="100" stroke="url(#grad11)" strokeWidth="10" strokeLinecap="round"/>
                        {/* Arms supporting */}
                        <line x1="85" y1="95" x2="80" y2="120" stroke="url(#grad11)" strokeWidth="7" strokeLinecap="round"/>
                        <circle cx="80" cy="120" r="6" fill={color}/>
                        {/* Legs */}
                        <line x1="130" y1="100" x2="140" y2="125" stroke="url(#grad11)" strokeWidth="7" strokeLinecap="round"/>
                        <circle cx="140" cy="125" r="5" fill={color}/>
                        {/* Ground line */}
                        <line x1="50" y1="125" x2="160" y2="125" stroke={color} strokeWidth="2" opacity="0.3"/>
                    </svg>
                ),

                russian_twist: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad12" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head */}
                        <circle cx="100" cy="70" r="13" fill="url(#grad12)"/>
                        {/* Torso leaning back */}
                        <line x1="100" y1="83" x2="100" y2="120" stroke="url(#grad12)" strokeWidth="9" strokeLinecap="round"/>
                        {/* Arms rotated with weight */}
                        <line x1="100" y1="95" x2="70" y2="100" stroke="url(#grad12)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="100" y1="95" x2="75" y2="105" stroke="url(#grad12)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Dumbbell */}
                        <rect x="65" y="100" width="12" height="7" rx="2" fill={color}/>
                        {/* Bent legs */}
                        <line x1="100" y1="120" x2="90" y2="145" stroke="url(#grad12)" strokeWidth="8" strokeLinecap="round"/>
                        <line x1="100" y1="120" x2="110" y2="145" stroke="url(#grad12)" strokeWidth="8" strokeLinecap="round"/>
                        <line x1="90" y1="145" x2="85" y2="155" stroke="url(#grad12)" strokeWidth="7" strokeLinecap="round"/>
                        <line x1="110" y1="145" x2="115" y2="155" stroke="url(#grad12)" strokeWidth="7" strokeLinecap="round"/>
                    </svg>
                ),

                // Stretching
                childs_pose: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad13" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head down */}
                        <circle cx="85" cy="110" r="11" fill="url(#grad13)"/>
                        {/* Curved back */}
                        <path d="M 95 110 Q 110 95 125 100" fill="none" stroke="url(#grad13)" strokeWidth="10" strokeLinecap="round"/>
                        {/* Arms extended forward */}
                        <line x1="85" y1="115" x2="60" y2="120" stroke="url(#grad13)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="90" y1="115" x2="65" y2="125" stroke="url(#grad13)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Sitting on heels */}
                        <path d="M 125 100 Q 130 115 125 130" fill="none" stroke="url(#grad13)" strokeWidth="8" strokeLinecap="round"/>
                        {/* Ground */}
                        <line x1="40" y1="130" x2="160" y2="130" stroke={color} strokeWidth="2" opacity="0.3"/>
                    </svg>
                ),

                stretch: (
                    <svg viewBox="0 0 200 200" className="w-full h-full">
                        <defs>
                            <linearGradient id="grad14" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style={{stopColor: color, stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: "#764ba2", stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        {/* Head */}
                        <circle cx="100" cy="50" r="13" fill="url(#grad14)"/>
                        {/* Body */}
                        <line x1="100" y1="63" x2="100" y2="115" stroke="url(#grad14)" strokeWidth="8" strokeLinecap="round"/>
                        {/* One arm stretched up */}
                        <line x1="100" y1="70" x2="95" y2="35" stroke="url(#grad14)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Other arm behind head */}
                        <line x1="100" y1="70" x2="110" y2="55" stroke="url(#grad14)" strokeWidth="6" strokeLinecap="round"/>
                        <line x1="110" y1="55" x2="105" y2="45" stroke="url(#grad14)" strokeWidth="6" strokeLinecap="round"/>
                        {/* Legs */}
                        <line x1="100" y1="115" x2="90" y2="160" stroke="url(#grad14)" strokeWidth="7" strokeLinecap="round"/>
                        <line x1="100" y1="115" x2="110" y2="160" stroke="url(#grad14)" strokeWidth="7" strokeLinecap="round"/>
                    </svg>
                ),
            };

            return illustrations[type] || illustrations.stretch;
        };

        // Timer Component
        const Timer = ({ duration, onComplete }) => {
            const [seconds, setSeconds] = useState(duration);
            const [isActive, setIsActive] = useState(false);

            useEffect(() => {
                let interval;
                if (isActive && seconds > 0) {
                    interval = setInterval(() => {
                        setSeconds(s => {
                            if (s <= 1) {
                                setIsActive(false);
                                onComplete?.();
                                if ('vibrate' in navigator) {
                                    navigator.vibrate([200, 100, 200]);
                                }
                                return duration;
                            }
                            return s - 1;
                        });
                    }, 1000);
                }
                return () => clearInterval(interval);
            }, [isActive, seconds]);

            const toggle = () => setIsActive(!isActive);
            const reset = () => {
                setIsActive(false);
                setSeconds(duration);
            };

            const progress = ((duration - seconds) / duration) * 100;

            return (
                <div className={`glass-dark p-6 rounded-3xl ${isActive ? 'timer-active' : ''}`}>
                    <div className="relative w-48 h-48 mx-auto mb-4">
                        <svg className="transform -rotate-90 w-48 h-48">
                            <circle cx="96" cy="96" r="88" stroke="rgba(255,255,255,0.2)" strokeWidth="8" fill="none"/>
                            <circle
                                cx="96" cy="96" r="88"
                                stroke="url(#timerGrad)"
                                strokeWidth="8" fill="none"
                                strokeDasharray={`${2 * Math.PI * 88}`}
                                strokeDashoffset={`${2 * Math.PI * 88 * (1 - progress / 100)}`}
                                className="progress-ring"
                                strokeLinecap="round"
                            />
                            <defs>
                                <linearGradient id="timerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stopColor="#ec4899" />
                                    <stop offset="100%" stopColor="#8b5cf6" />
                                </linearGradient>
                            </defs>
                        </svg>
                        <div className="absolute inset-0 flex items-center justify-center">
                            <div className="text-center">
                                <div className="text-5xl font-bold text-white mb-1">
                                    {Math.floor(seconds / 60)}:{(seconds % 60).toString().padStart(2, '0')}
                                </div>
                                <div className="text-white/60 text-sm font-medium">
                                    {isActive ? 'In corso...' : 'Pronto'}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div className="flex gap-3">
                        <button onClick={toggle} className="flex-1 btn-primary text-white py-4 px-6 rounded-2xl font-semibold text-lg">
                            {isActive ? '‚è∏ Pausa' : '‚ñ∂ Avvia'}
                        </button>
                        <button onClick={reset} className="glass text-white py-4 px-6 rounded-2xl font-semibold text-lg">‚Üª</button>
                    </div>
                </div>
            );
        };

        // Exercise Card with SVG
        const ExerciseCard = ({ exercise, isCompleted, onToggle }) => {
            return (
                <div onClick={onToggle} className={`glass-card rounded-3xl overflow-hidden mb-4 cursor-pointer exercise-card ${isCompleted ? 'opacity-70' : ''}`}>
                    {exercise.svg && (
                        <div className="relative bg-gradient-to-br from-purple-50 to-pink-50 p-8">
                            <div className="svg-illustration max-w-[200px] mx-auto">
                                <ExerciseIllustration type={exercise.svg} color="#667eea" />
                            </div>
                            {isCompleted && (
                                <div className="absolute top-4 right-4 w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg completed-badge">
                                    ‚úì
                                </div>
                            )}
                        </div>
                    )}
                    <div className="p-5">
                        <div className="flex items-start gap-3">
                            <input
                                type="checkbox"
                                checked={isCompleted}
                                onChange={(e) => e.stopPropagation()}
                                className="mt-1 w-6 h-6 accent-purple-600 rounded-lg"
                                style={{ accentColor: '#8b5cf6' }}
                            />
                            <div className="flex-1">
                                <div className="flex items-start justify-between gap-2">
                                    <h4 className="font-bold text-gray-900 text-lg">{exercise.name}</h4>
                                    {exercise.emoji && <span className="text-3xl">{exercise.emoji}</span>}
                                </div>
                                <p className="text-sm font-semibold gradient-text mt-1">{exercise.sets}</p>
                                <p className="text-sm text-gray-600 mt-2">{exercise.description}</p>
                                {exercise.note && (
                                    <div className="glass-dark text-white p-3 rounded-2xl mt-3 text-sm">
                                        <span className="font-semibold">üí° </span>{exercise.note}
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Main App
        const WorkoutApp = () => {
            const [activeDay, setActiveDay] = useState('mobility');
            const [progress, setProgress] = useState(loadProgress());
            const [showTimer, setShowTimer] = useState(false);

            useEffect(() => {
                saveProgress(progress);
            }, [progress]);

            const toggleExercise = (day, exerciseId) => {
                setProgress(prev => ({
                    ...prev,
                    [day]: { ...prev[day], [exerciseId]: !prev[day]?.[exerciseId] }
                }));
            };

            const resetDay = (day) => {
                if (confirm('Vuoi resettare tutti gli esercizi di questa sessione?')) {
                    setProgress(prev => ({ ...prev, [day]: {} }));
                }
            };

            const workoutData = {
                mobility: {
                    title: 'Mobilit√†', icon: 'üßò‚Äç‚ôÄÔ∏è', subtitle: '10 minuti - Inizia sempre da qui',
                    color: 'from-pink-500 to-rose-500',
                    exercises: [
                        { id: 1, name: 'Cerchi con le spalle', sets: '10 avanti + 10 indietro', description: 'Rilassa spalle e trapezi', emoji: 'üîÑ', svg: 'shoulder_circles' },
                        { id: 2, name: 'Rotazioni del collo', sets: '8 per lato', description: 'Movimenti lenti e controllati', emoji: '‚ÜîÔ∏è', svg: 'neck_rotation' },
                        { id: 3, name: 'Cerchi polsi e caviglie', sets: '10 per lato', description: 'Prepara le articolazioni', emoji: '‚≠ï', svg: 'shoulder_circles' },
                        { id: 4, name: 'Cat-Cow', sets: '10 ripetizioni', description: 'Mobilizza la colonna vertebrale', emoji: 'üê±', svg: 'cat_cow' },
                        { id: 5, name: 'Rotazioni del busto', sets: '10 per lato', description: 'Ruota da seduta o in piedi', emoji: 'üîÉ', svg: 'neck_rotation' },
                        { id: 6, name: 'Swing delle gambe', sets: '10 per gamba', description: 'Avanti/indietro e laterale', emoji: 'ü¶µ', svg: 'lunges' },
                        { id: 7, name: 'Jumping jacks', sets: '2 minuti', description: 'Aumenta la temperatura corporea', emoji: 'üèÉ‚Äç‚ôÄÔ∏è', svg: 'jumping_jacks' }
                    ]
                },
                upper: {
                    title: 'Superiore', icon: 'üí™', subtitle: 'Luned√¨ - Schiena, Spalle, Braccia',
                    color: 'from-purple-500 to-indigo-500',
                    exercises: [
                        { id: 1, name: 'Rematore con manubri', sets: '3 x 12', description: 'Busto inclinato 45¬∞, gomiti lungo il corpo', emoji: 'üö£‚Äç‚ôÄÔ∏è', svg: 'bent_over_row', note: 'Fondamentale per postura' },
                        { id: 2, name: 'Pull-over', sets: '3 x 10', description: 'Sdraiata, scendi manubrio dietro la testa', emoji: 'üîΩ', svg: 'glute_bridge' },
                        { id: 3, name: 'Superman', sets: '3 x 12', description: 'A terra prona, alterna braccia e gambe', emoji: 'ü¶∏‚Äç‚ôÄÔ∏è', svg: 'plank' },
                        { id: 4, name: 'Reverse fly', sets: '3 x 12', description: 'Busto flesso, apri braccia lateralmente', emoji: 'ü¶Ö', svg: 'bent_over_row' },
                        { id: 5, name: 'Military press', sets: '3 x 10', description: 'Spingi manubri sopra la testa', emoji: '‚¨ÜÔ∏è', svg: 'military_press', note: 'Top per densit√† ossea' },
                        { id: 6, name: 'Alzate laterali', sets: '3 x 12', description: 'Solleva fino altezza spalle', emoji: '‚ÜîÔ∏è', svg: 'military_press' },
                        { id: 7, name: 'Alzate frontali', sets: '3 x 10/braccio', description: 'Alza un manubrio alla volta', emoji: '‚¨ÜÔ∏è', svg: 'military_press' },
                        { id: 8, name: 'Scrollate spalle', sets: '3 x 15', description: 'Solleva spalle verso orecchie', emoji: 'ü§∑‚Äç‚ôÄÔ∏è', svg: 'shoulder_circles' },
                        { id: 9, name: 'Curl bicipiti', sets: '3 x 12', description: 'Gomiti fermi, piega avambracci', emoji: 'üí™', svg: 'bicep_curl' },
                        { id: 10, name: 'Curl a martello', sets: '3 x 10', description: 'Palmi rivolti uno verso altro', emoji: 'üî®', svg: 'bicep_curl' },
                        { id: 11, name: 'French press', sets: '3 x 10', description: 'Sdraiata, piega gomiti verso fronte', emoji: 'üîΩ', svg: 'glute_bridge' },
                        { id: 12, name: 'Kickback tricipiti', sets: '3 x 12/braccio', description: 'Busto flesso, estendi indietro', emoji: 'üëä', svg: 'bent_over_row' }
                    ]
                },
                lower: {
                    title: 'Inferiore', icon: 'üçë', subtitle: 'Gioved√¨ - Gambe, Glutei, Core',
                    color: 'from-blue-500 to-cyan-500',
                    exercises: [
                        { id: 1, name: 'Squat con manubri', sets: '4 x 12', description: 'Scendi a 90¬∞, schiena dritta', emoji: 'üèãÔ∏è‚Äç‚ôÄÔ∏è', svg: 'squat', note: 'PRIORIT√Ä osteoporosi!' },
                        { id: 2, name: 'Affondi alternati', sets: '3 x 10/gamba', description: 'Passo avanti, scendi, ritorna', emoji: 'ü¶µ', svg: 'lunges' },
                        { id: 3, name: 'Stacchi rumeni', sets: '3 x 12', description: 'Gambe tese, scendi con manubri', emoji: '‚¨áÔ∏è', svg: 'bent_over_row', note: 'Top per glutei' },
                        { id: 4, name: 'Ponte glutei', sets: '3 x 15', description: 'Manubrio sul bacino, solleva', emoji: 'üåâ', svg: 'glute_bridge' },
                        { id: 5, name: 'Affondi laterali', sets: '3 x 10/lato', description: 'Passo laterale, piega ginocchio', emoji: '‚ÜîÔ∏è', svg: 'lunges' },
                        { id: 6, name: 'Calf raises', sets: '3 x 20', description: 'Solleva sui talloni', emoji: 'ü¶∂', svg: 'squat' },
                        { id: 7, name: 'Plank', sets: '3 x 30-45"', description: 'Corpo allineato, core contratto', emoji: 'üìè', svg: 'plank', note: 'Usa il timer!' },
                        { id: 8, name: 'Crunch con peso', sets: '3 x 15', description: 'Manubrio sul petto', emoji: '‚¨ÜÔ∏è', svg: 'glute_bridge' },
                        { id: 9, name: 'Russian twist', sets: '3 x 20', description: 'Ruota busto con manubrio', emoji: 'üîÑ', svg: 'russian_twist' },
                        { id: 10, name: 'Dead bug', sets: '3 x 12', description: 'Alterna braccia/gambe opposte', emoji: 'ü™≤', svg: 'glute_bridge' },
                        { id: 11, name: 'Side plank', sets: '2 x 20-30"/lato', description: 'Corpo allineato lateralmente', emoji: 'üìê', svg: 'plank' },
                        { id: 12, name: 'Mountain climbers', sets: '3 x 20', description: 'Ginocchia al petto alternate', emoji: '‚õ∞Ô∏è', svg: 'plank' }
                    ]
                },
                stretching: {
                    title: 'Stretching', icon: 'üßò', subtitle: '5-10 minuti - Finisci sempre con questo',
                    color: 'from-emerald-500 to-teal-500',
                    exercises: [
                        { id: 1, name: "Child's pose", sets: '1 minuto', description: 'Seduta sui talloni, braccia avanti', emoji: 'üôá‚Äç‚ôÄÔ∏è', svg: 'childs_pose' },
                        { id: 2, name: 'Stretch quadricipiti', sets: '30" per gamba', description: 'Porta tallone al gluteo', emoji: 'ü¶µ', svg: 'stretch' },
                        { id: 3, name: 'Stretch posteriori', sets: '30" per gamba', description: 'Gamba tesa, piegati avanti', emoji: 'ü§∏‚Äç‚ôÄÔ∏è', svg: 'childs_pose' },
                        { id: 4, name: 'Stretch glutei', sets: '30" per lato', description: 'Caviglia su ginocchio opposto', emoji: '4Ô∏è‚É£', svg: 'glute_bridge' },
                        { id: 5, name: 'Stretch pettorali', sets: '30" per lato', description: 'Braccio su muro, ruota corpo', emoji: 'üö™', svg: 'stretch' },
                        { id: 6, name: 'Stretch spalle', sets: '30" per braccio', description: 'Gomito dietro la testa', emoji: 'üí™', svg: 'stretch' }
                    ]
                }
            };

            const currentSection = workoutData[activeDay];
            const completedCount = Object.values(progress[activeDay] || {}).filter(Boolean).length;
            const totalCount = currentSection.exercises.length;
            const progressPercent = totalCount > 0 ? (completedCount / totalCount) * 100 : 0;

            return (
                <div className="min-h-screen pb-24">
                    <div className={`bg-gradient-to-r ${currentSection.color} text-white p-8 sticky top-0 z-20 shadow-2xl`}>
                        <div className="flex items-center gap-3 mb-2">
                            <span className="text-5xl float-animation">{currentSection.icon}</span>
                            <div>
                                <h1 className="text-3xl font-bold">My Workout</h1>
                                <p className="text-white/90 text-sm mt-1">Journey to Strength ‚ú®</p>
                            </div>
                        </div>
                    </div>

                    <div className="glass-dark sticky top-[120px] z-10 overflow-x-auto">
                        <div className="flex gap-3 p-4 min-w-max">
                            {Object.entries(workoutData).map(([key, data]) => (
                                <button
                                    key={key}
                                    onClick={() => setActiveDay(key)}
                                    className={`nav-pill px-6 py-3 rounded-2xl text-sm font-bold whitespace-nowrap ${
                                        activeDay === key ? 'active text-white' : 'glass text-white/80'
                                    }`}
                                >
                                    <span className="mr-2">{data.icon}</span>
                                    {data.title}
                                </button>
                            ))}
                        </div>
                    </div>

                    <div className="p-5">
                        <div className="glass-card rounded-3xl p-6 mb-5">
                            <h2 className="text-2xl font-bold gradient-text mb-1">{currentSection.title}</h2>
                            <p className="text-gray-600 text-sm mb-4">{currentSection.subtitle}</p>
                            
                            <div className="flex items-center justify-between">
                                <div className="flex-1">
                                    <div className="flex justify-between text-sm font-semibold text-gray-700 mb-2">
                                        <span>Progressi</span>
                                        <span className="gradient-text">{completedCount}/{totalCount}</span>
                                    </div>
                                    <div className="bg-gray-200 rounded-full h-3 overflow-hidden">
                                        <div 
                                            className="h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500 ease-out"
                                            style={{ width: `${progressPercent}%` }}
                                        />
                                    </div>
                                </div>
                                <div className="ml-6 relative w-16 h-16">
                                    <svg className="transform -rotate-90 w-16 h-16">
                                        <circle cx="32" cy="32" r="28" stroke="#e5e7eb" strokeWidth="4" fill="none"/>
                                        <circle 
                                            cx="32" cy="32" r="28" 
                                            stroke="url(#progressGrad)" 
                                            strokeWidth="4" 
                                            fill="none"
                                            strokeDasharray={`${2 * Math.PI * 28}`}
                                            strokeDashoffset={`${2 * Math.PI * 28 * (1 - progressPercent / 100)}`}
                                            className="transition-all duration-500"
                                            strokeLinecap="round"
                                        />
                                        <defs>
                                            <linearGradient id="progressGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                                <stop offset="0%" stopColor="#a855f7" />
                                                <stop offset="100%" stopColor="#ec4899" />
                                            </linearGradient>
                                        </defs>
                                    </svg>
                                    <div className="absolute inset-0 flex items-center justify-center">
                                        <span className="text-xs font-bold gradient-text">{Math.round(progressPercent)}%</span>
                                    </div>
                                </div>
                            </div>

                            <div className="flex gap-3 mt-5">
                                <button onClick={() => setShowTimer(!showTimer)} className="flex-1 btn-primary text-white py-3 px-4 rounded-2xl text-sm font-bold">
                                    {showTimer ? '‚úï Chiudi' : '‚è±'} Timer
                                </button>
                                <button onClick={() => resetDay(activeDay)} className="glass-dark text-white py-3 px-4 rounded-2xl text-sm font-bold">
                                    ‚Üª Reset
                                </button>
                            </div>
                        </div>

                        {showTimer && (
                            <div className="mb-5">
                                <Timer duration={60} />
                            </div>
                        )}

                        <div>
                            {currentSection.exercises.map(exercise => (
                                <ExerciseCard
                                    key={exercise.id}
                                    exercise={exercise}
                                    isCompleted={progress[activeDay]?.[exercise.id] || false}
                                    onToggle={() => toggleExercise(activeDay, exercise.id)}
                                />
                            ))}
                        </div>

                        {progressPercent === 100 && (
                            <div className="glass-card rounded-3xl p-8 text-center mt-5 bg-gradient-to-br from-green-50 to-emerald-50">
                                <div className="text-6xl mb-3 float-animation">üéâ</div>
                                <h3 className="font-bold text-2xl gradient-text mb-2">Fantastico!</h3>
                                <p className="text-gray-600">Hai completato questa sessione! üí™</p>
                            </div>
                        )}

                        <div className="mt-6 space-y-4">
                            <div className="glass rounded-3xl p-5 text-white">
                                <h3 className="font-bold text-lg mb-3">‚ö†Ô∏è Focus Osteoporosi</h3>
                                <ul className="text-sm space-y-2 text-white/90">
                                    <li>‚Ä¢ Priorit√†: squat, affondi, stacchi</li>
                                    <li>‚Ä¢ Aumenta peso gradualmente</li>
                                    <li>‚Ä¢ Forma perfetta {'>'} peso alto</li>
                                    <li>‚Ä¢ Riposo 48h tra sessioni</li>
                                </ul>
                            </div>

                            <div className="glass rounded-3xl p-5 text-white">
                                <h3 className="font-bold text-lg mb-3">üìÖ Settimana Tipo</h3>
                                <div className="text-sm space-y-2 text-white/90">
                                    <div className="flex justify-between"><span className="font-semibold">Lun</span><span>Parte superiore</span></div>
                                    <div className="flex justify-between"><span className="font-semibold">Mar</span><span>Cardio (Balla e Snella)</span></div>
                                    <div className="flex justify-between"><span className="font-semibold">Mer</span><span>Riposo / mobilit√†</span></div>
                                    <div className="flex justify-between"><span className="font-semibold">Gio</span><span>Parte inferiore + core</span></div>
                                    <div className="flex justify-between"><span className="font-semibold">Ven</span><span>Cardio (Balla e Snella)</span></div>
                                    <div className="flex justify-between"><span className="font-semibold">Weekend</span><span>Riposo attivo</span></div>
                                </div>
                            </div>

                            <div className="glass rounded-3xl p-5 text-white">
                                <h3 className="font-bold text-lg mb-3">üéØ Extra</h3>
                                <ul className="text-sm space-y-2 text-white/90">
                                    <li>‚Ä¢ Hula-hoop: 10-15 min (giorni riposo)</li>
                                    <li>‚Ä¢ Corda: 5-10 min (riscaldamento)</li>
                                    <li>‚Ä¢ Ottimi per densit√† ossea!</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<WorkoutApp />, document.getElementById('root'));
    </script>
</body>
</html>
